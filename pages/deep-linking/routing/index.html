



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Branch documentation for mobile deep linking">
      
      
        <link rel="canonical" href="https://docs.branch.io/pages/deep-linking/routing/">
      
      
        <meta name="author" content="Branch">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.0">
    
    
      
        <title>In-app deep link routing - Branch documentation</title>
      
    
    
      <style>.async-hide{opacity:0!important}</style>
      <script>!function(e,n,t,a,o,c,i,s,m){n.className+=" "+t,c.start=1*new Date,c.end=i=function(){n.className=n.className.replace(RegExp(" ?"+t),"")},(e[a]=e[a]||[]).hide=c,setTimeout(function(){i(),c.end=null},1e3),c.timeout=1e3}(window,document.documentElement,"async-hide","dataLayer",0,{"GTM-PCPBXCN":!0})</script>
    
    
      <script>!function(e,p){if(!p.__SV){var o,r,t=window;try{var n,i,a,l=t.location,s=l.hash;n=function(e,t){return(i=e.match(RegExp(t+"=([^&]*)")))?i[1]:null},s&&n(s,"state")&&("mpeditor"===(a=JSON.parse(decodeURIComponent(n(s,"state")))).action&&(t.sessionStorage.setItem("_mpcehash",s),history.replaceState(a.desiredHash||"",e.title,l.pathname+l.search)))}catch(e){}(window.mixpanel=p)._i=[],p.init=function(e,t,n){function i(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var a=p;for(void 0!==n?a=p[n]=[]:n="mixpanel",a.people=a.people||[],a.toString=function(e){var t="mixpanel";return"mixpanel"!==n&&(t+="."+n),e||(t+=" (stub)"),t},a.people.toString=function(){return a.toString(1)+".people (stub)"},o="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),r=0;r<o.length;r++)i(a,o[r]);p._i.push([e,t,n])},p.__SV=1.2,(t=e.createElement("script")).type="text/javascript",t.async=!0,t.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",(n=e.getElementsByTagName("script")[0]).parentNode.insertBefore(t,n)}}(document,window.mixpanel||[]),mixpanel.init("47ec8ea9ac102b1370221dcda476091c")</script>
    
    
      <script>function getCookie(e){var i=("; "+document.cookie).split("; "+e+"=");if(2<=i.length)return i.pop().split(";").shift()}function setCookie(e,i,t){var o=new Date;o=new Date(o.getTime()+864e5*t),document.cookie=e+"="+i+"; expires="+o.toGMTString()+"; path=/; domain=.branch.io"}var returning_visitor=getCookie("bnc_returning_visitor"),page_url=window.location.host+window.location.pathname;setCookie("bnc_returning_visitor","1",30),function(e,i,t,o,n,a,r){e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,a=i.createElement(t),r=i.getElementsByTagName(t)[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",r.parentNode.insertBefore(a,r)}(window,document,"script",0,"ga"),ga("create","UA-53307642-1","auto"),ga("require","GTM-PCPBXCN"),ga("send","pageview"),ga("require","linkid","linkid.js"),returning_visitor||ga("set","dimension1",page_url)</script>
    
    
      <script>!function(e,t,n,o,c,a,f){e.fbq||(c=e.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},e._fbq||(e._fbq=c),(c.push=c).loaded=!0,c.version="2.0",c.queue=[],(a=t.createElement(n)).async=!0,a.src="https://connect.facebook.net/en_US/fbevents.js",(f=t.getElementsByTagName(n)[0]).parentNode.insertBefore(a,f))}(window,document,"script"),fbq("init","1040694199304729"),fbq("track","PageView")</script>
      <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1040694199304729&ev=PageView&noscript=1"></noscript>
    
    
      <script>_linkedin_data_partner_id="21211",function(){var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",e.parentNode.insertBefore(t,e)}()</script>
    
    
      <script src="//cdn.bizible.com/scripts/bizible.js" async></script>
    
    
      <script>!function(){var e=!1;function n(){!1===e&&(e=!0,Munchkin.init("315-FTT-121",{domainLevel:2}))}var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//munchkin.marketo.net/munchkin.js",t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||n()},t.onload=n,document.getElementsByTagName("head")[0].appendChild(t)}()</script>
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css">
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../../../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../../css/main.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#overview" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.branch.io" title="Branch documentation" class="md-header-nav__button md-logo">
          
            <img src="../../../img/logo.svg">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <a href="https://docs.branch.io" title="Branch documentation">
            <div class="branch-header-subtitle">&nbsp;|&nbsp;Docs</div>
          </a>
        </div>
      
      
        <div class="md-flex__cell md-flex__cell--stretch">
          <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
            
              
                <span class="md-header-nav__topic">
                  Branch documentation
                </span>
                <span class="md-header-nav__topic">
                  In-app deep link routing
                </span>
              
            
          </div>
        </div>
      
      
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-helpful" id="header-helpful" title="Helpful">
            <i class="branch-header-icon md-icon material-icons">thumb_up</i>
            <p class="branch-header-label">Helpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-unhelpful" id="header-unhelpful" title="Unhelpful">
            <i class="branch-header-icon md-icon material-icons">thumb_down</i>
            <p class="branch-header-label">Unhelpful</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="improve-doc" title="Improve This Doc">
            <i class="branch-header-icon md-icon material-icons">mode_edit</i>
            <p class="branch-header-label">Improve</p>
          </a>
        </div>
        <div class="branch-header-button md-flex__cell md-flex__cell--shrink">
          <a href="#" class="contact-support" title="Contact support">
            <i class="branch-header-icon md-icon material-icons">help_outline</i>
            <p class="branch-header-label">Support</p>
          </a>
        </div>
      
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <a href="#dialog-search" id="header-search" title="Search">
            <label class="md-icon md-icon--search md-header-nav__button"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      
        <i class="branch-header-search md-icon material-icons">search</i>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          </a>
        </div>
      
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../../../img/logo.svg" width="48" height="48">
      
    </span>
    Branch documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/branchmetrics/docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Branch documentation
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../.." title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

      
    
      
      
      
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic integration
          </li>
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../dashboard/integrate/" title="Configure your dashboard" class="md-nav__link">
      Configure your dashboard
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Configure your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Configure your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/ios/" title="iOS" class="md-nav__link">
      iOS
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/cordova-phonegap-ionic/" title="Cordova PhoneGap Ionic" class="md-nav__link">
      Cordova PhoneGap Ionic
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/mparticle-android/" title="mParticle Android" class="md-nav__link">
      mParticle Android
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/mparticle-ios/" title="mParticle iOS" class="md-nav__link">
      mParticle iOS
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/titanium/" title="Titanium" class="md-nav__link">
      Titanium
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/react-native/" title="React Native" class="md-nav__link">
      React Native
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/unity/" title="Unity" class="md-nav__link">
      Unity
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/xamarin/" title="Xamarin" class="md-nav__link">
      Xamarin
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Configure your deep linking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Configure your deep linking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../universal-links/" title="iOS Universal Links" class="md-nav__link">
      iOS Universal Links
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../android-app-links/" title="Android App Links" class="md-nav__link">
      Android App Links
    </a>
  </li>

          
        
          
            
            
            

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        In-app deep link routing
      </label>
    
    <a href="./" title="In-app deep link routing" class="md-nav__link md-nav__link--active">
      In-app deep link routing
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-1-build-custom-routing-inside-the-routing-callback" title="Option 1: Build custom routing inside the routing callback" class="md-nav__link">
    Option 1: Build custom routing inside the routing callback
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#route-immediately-on-app-open" title="Route immediately on app open" class="md-nav__link">
    Route immediately on app open
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branch-added-parameters" title="Branch-added parameters" class="md-nav__link">
    Branch-added parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-deep-link-parameters-later-on" title="Access deep link parameters later on" class="md-nav__link">
    Access deep link parameters later on
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-latest-session-referring-params" title="Get latest session referring params" class="md-nav__link">
    Get latest session referring params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-first-session-referring-params" title="Get first session referring params" class="md-nav__link">
    Get first session referring params
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-2-let-branch-use-your-existing-deep-link-routing" title="Option 2: Let Branch use your existing deep link routing" class="md-nav__link">
    Option 2: Let Branch use your existing deep link routing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-insert-custom-deep-link-routes-into-a-branch-link" title="How to insert custom deep link routes into a Branch link" class="md-nav__link">
    How to insert custom deep link routes into a Branch link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-handle-uri-paths-with-universal-links-or-app-links" title="How to handle URI paths with Universal Links or App Links" class="md-nav__link">
    How to handle URI paths with Universal Links or App Links
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-3-use-branchs-easy-config-deep-link-routing" title="Option 3: Use Branch's easy config deep link routing" class="md-nav__link">
    Option 3: Use Branch's easy config deep link routing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#auto-routing-in-ios" title="Auto-routing in iOS" class="md-nav__link">
    Auto-routing in iOS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-view-controller-to-accept-deep-links" title="Configure View Controller to accept deep links" class="md-nav__link">
    Configure View Controller to accept deep links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-view-controller-for-deep-link-routing" title="Register View Controller for deep link routing" class="md-nav__link">
    Register View Controller for deep link routing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-routing-in-android" title="Auto-routing in Android" class="md-nav__link">
    Auto-routing in Android
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-activity-to-accept-deep-links" title="Configure Activity to accept deep links" class="md-nav__link">
    Configure Activity to accept deep links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-activity-for-deep-link-routing" title="Register Activity for deep link routing" class="md-nav__link">
    Register Activity for deep link routing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Launch your app
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Launch your app
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/ios-launch/" title="Apple App Store" class="md-nav__link">
      Apple App Store
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../apps/android-launch/" title="Google Play" class="md-nav__link">
      Google Play
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../web/integrate/" title="Configure your website" class="md-nav__link">
      Configure your website
    </a>
  </li>

      
    
      
      
      
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Basic usage
          </li>
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../links/integrate/" title="Create deep links" class="md-nav__link">
      Create deep links
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Track analytics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Track analytics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/analytics/" title="Dashboard analytics" class="md-nav__link">
      Dashboard analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/unified-analytics/" title="New Dashboard Analytics" class="md-nav__link">
      New Dashboard Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../dashboard/timezone/" title="Time zone support" class="md-nav__link">
      Time zone support
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Advanced usage
          </li>
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Links on your website
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Links on your website
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/deep-views/" title="Deepviews" class="md-nav__link">
      Deepviews
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/journeys/" title="Journeys App Banners" class="md-nav__link">
      Journeys App Banners
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/amp-journeys/" title="AMP Journeys" class="md-nav__link">
      AMP Journeys
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/text-me-the-app/" title="Text Me The App" class="md-nav__link">
      Text Me The App
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../web/hosted-data/" title="Hosted Deep Link Data" class="md-nav__link">
      Hosted Deep Link Data
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Links in your paid ads
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Links in your paid ads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/dynamic-product-feeds/" title="Dynamic Product Feeds" class="md-nav__link">
      Dynamic Product Feeds
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/branch-universal-ads/" title="Branch Universal Ads" class="md-nav__link">
      Branch Universal Ads
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/apple/" title="Apple Search" class="md-nav__link">
      Apple Search
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/doubleclick/" title="Doubleclick" class="md-nav__link">
      Doubleclick
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/google-ads-overview/" title="Google" class="md-nav__link">
      Google
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/facebook-ads-overview/" title="Facebook" class="md-nav__link">
      Facebook
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../deep-linked-ads/twitter/" title="Twitter" class="md-nav__link">
      Twitter
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Links in your emails
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Links in your emails
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/get-started/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/amazon-ses/" title="Amazon SES" class="md-nav__link">
      Amazon SES
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/betaout/" title="Betaout" class="md-nav__link">
      Betaout
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/blueshift/" title="Blueshift" class="md-nav__link">
      Blueshift
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/braze/" title="Braze (formerly Appboy)" class="md-nav__link">
      Braze (formerly Appboy)
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/bronto/" title="Bronto" class="md-nav__link">
      Bronto
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/campaign-monitor/" title="Campaign Monitor" class="md-nav__link">
      Campaign Monitor
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/epsilon/" title="Epsilon" class="md-nav__link">
      Epsilon
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/kahuna/" title="Kahuna" class="md-nav__link">
      Kahuna
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/leanplum/" title="Leanplum" class="md-nav__link">
      Leanplum
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mailgun/" title="Mailgun" class="md-nav__link">
      Mailgun
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mailjet/" title="Mailjet" class="md-nav__link">
      Mailjet
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/mandrill/" title="Mandrill" class="md-nav__link">
      Mandrill
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/moengage/" title="MoEngage" class="md-nav__link">
      MoEngage
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/postup/" title="PostUp" class="md-nav__link">
      PostUp
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/responsys/" title="Responsys" class="md-nav__link">
      Responsys
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sailthru/" title="Sailthru" class="md-nav__link">
      Sailthru
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/salesforce/" title="Salesforce" class="md-nav__link">
      Salesforce
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sender/" title="Sender" class="md-nav__link">
      Sender
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sendgrid/" title="SendGrid" class="md-nav__link">
      SendGrid
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/sparkpost/" title="SparkPost" class="md-nav__link">
      SparkPost
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/vero/" title="Vero" class="md-nav__link">
      Vero
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/zeta/" title="Zeta" class="md-nav__link">
      Zeta
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/support/" title="Support" class="md-nav__link">
      Support
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../emails/self-serve/" title="Self Serve" class="md-nav__link">
      Self Serve
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../advance/push-notifications/" title="Links in push notifications" class="md-nav__link">
      Links in push notifications
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Links in organic search
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Links in organic search
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/firebase/" title="Firebase App Indexing" class="md-nav__link">
      Firebase App Indexing
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/spotlight/" title="Spotlight Search" class="md-nav__link">
      Spotlight Search
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../organic-search/branch-seo/" title="General SEO Compatibility" class="md-nav__link">
      General SEO Compatibility
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Links for viral & referral
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Links for viral & referral
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/content-sharing/" title="Content sharing" class="md-nav__link">
      Content sharing
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../viral/referrals/" title="Referral programs" class="md-nav__link">
      Referral programs
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      Links in new app platforms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        Links in new app platforms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../app-to-app/android-instant-apps/" title="Android Instant Apps" class="md-nav__link">
      Android Instant Apps
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../app-to-app/imessage-apps/" title="iMessage Apps" class="md-nav__link">
      iMessage Apps
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Export Branch data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Export Branch data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16-1" type="checkbox" id="nav-16-1">
    
    <label class="md-nav__link" for="nav-16-1">
      Data Feeds
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-16-1">
        Data Feeds
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/data-feeds/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16-1-2" type="checkbox" id="nav-16-1-2">
    
    <label class="md-nav__link" for="nav-16-1-2">
      Data Integrations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-16-1-2">
        Data Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/data-integrations/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/adobe-analytics/" title="Adobe Analytics" class="md-nav__link">
      Adobe Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/adjust/" title="Adjust" class="md-nav__link">
      Adjust
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/amplitude/" title="Amplitude" class="md-nav__link">
      Amplitude
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appmetrica/" title="AppMetrica" class="md-nav__link">
      AppMetrica
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appboy/" title="Braze" class="md-nav__link">
      Braze
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/appsflyer/" title="Appsflyer" class="md-nav__link">
      Appsflyer
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/clevertap/" title="CleverTap" class="md-nav__link">
      CleverTap
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/fabric-answers/" title="Fabric Answers" class="md-nav__link">
      Fabric Answers
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/google-analytics/" title="Google Analytics" class="md-nav__link">
      Google Analytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/kochava/" title="Kochava" class="md-nav__link">
      Kochava
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/localytics/" title="Localytics" class="md-nav__link">
      Localytics
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/mixpanel/" title="Mixpanel" class="md-nav__link">
      Mixpanel
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/mparticle/" title="mParticle" class="md-nav__link">
      mParticle
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/segment/" title="Segment" class="md-nav__link">
      Segment
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../integrations/tune/" title="Tune" class="md-nav__link">
      Tune
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/api-v3/" title="Data Export API" class="md-nav__link">
      Data Export API
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/ua-webhooks/" title="Webhooks" class="md-nav__link">
      Webhooks
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/query-api/" title="Query API" class="md-nav__link">
      Query API
    </a>
  </li>

          
        
          
            
            
            


  <li class="md-nav__item">
    <a href="../../exports/query-recipe-book/" title="Query Recipe Book" class="md-nav__link">
      Query Recipe Book
    </a>
  </li>

          
        
      </ul>
    </nav>
  </li>

          
        
      </ul>
    </nav>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/matching/" title="Branch Matching Overview" class="md-nav__link">
      Branch Matching Overview
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
          <li class="md-nav__item md-nav__link branch-nav-header">
            Resources
          </li>
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/validation-tools/" title="Validation Tools" class="md-nav__link">
      Validation Tools
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
        


  <li class="md-nav__item">
    <a href="../../resources/case-studies/" title="Case Studies and Infographics" class="md-nav__link">
      Case Studies and Infographics
    </a>
  </li>

      
    
      
      
      
      
        
      
        
      
        
      
        
      
      
    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-1-build-custom-routing-inside-the-routing-callback" title="Option 1: Build custom routing inside the routing callback" class="md-nav__link">
    Option 1: Build custom routing inside the routing callback
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#route-immediately-on-app-open" title="Route immediately on app open" class="md-nav__link">
    Route immediately on app open
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branch-added-parameters" title="Branch-added parameters" class="md-nav__link">
    Branch-added parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-deep-link-parameters-later-on" title="Access deep link parameters later on" class="md-nav__link">
    Access deep link parameters later on
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-latest-session-referring-params" title="Get latest session referring params" class="md-nav__link">
    Get latest session referring params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-first-session-referring-params" title="Get first session referring params" class="md-nav__link">
    Get first session referring params
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-2-let-branch-use-your-existing-deep-link-routing" title="Option 2: Let Branch use your existing deep link routing" class="md-nav__link">
    Option 2: Let Branch use your existing deep link routing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-insert-custom-deep-link-routes-into-a-branch-link" title="How to insert custom deep link routes into a Branch link" class="md-nav__link">
    How to insert custom deep link routes into a Branch link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-handle-uri-paths-with-universal-links-or-app-links" title="How to handle URI paths with Universal Links or App Links" class="md-nav__link">
    How to handle URI paths with Universal Links or App Links
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#option-3-use-branchs-easy-config-deep-link-routing" title="Option 3: Use Branch's easy config deep link routing" class="md-nav__link">
    Option 3: Use Branch's easy config deep link routing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#auto-routing-in-ios" title="Auto-routing in iOS" class="md-nav__link">
    Auto-routing in iOS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-view-controller-to-accept-deep-links" title="Configure View Controller to accept deep links" class="md-nav__link">
    Configure View Controller to accept deep links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-view-controller-for-deep-link-routing" title="Register View Controller for deep link routing" class="md-nav__link">
    Register View Controller for deep link routing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-routing-in-android" title="Auto-routing in Android" class="md-nav__link">
    Auto-routing in Android
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-activity-to-accept-deep-links" title="Configure Activity to accept deep links" class="md-nav__link">
    Configure Activity to accept deep links
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-activity-for-deep-link-routing" title="Register Activity for deep link routing" class="md-nav__link">
    Register Activity for deep link routing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/branchmetrics/docs/edit/master/src/pages/deep-linking/routing.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>In-app deep link routing</h1>
                
                <h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>When a Branch link is opened, either your app launches or users are taken to the App/Play store to download it. Deep links improve this process by routing users directly to specific content after your app launches. With Branch, this still works even if users have to stop and download the app first (a.k.a., "deferred deep links").</p>
<p>Deep links are an incredibly important part of delivering a high quality user experience. With deep links, you can take users to the exact thing they clicked on or even offer a customized onboarding experience.</p>
<h2 id="option-1-build-custom-routing-inside-the-routing-callback">Option 1: Build custom routing inside the routing callback<a class="headerlink" href="#option-1-build-custom-routing-inside-the-routing-callback" title="Permanent link">&para;</a></h2>
<h3 id="route-immediately-on-app-open">Route immediately on app open<a class="headerlink" href="#route-immediately-on-app-open" title="Permanent link">&para;</a></h3>
<p>Inside the deep link handler callback that you register in initSession, you will want to examine the params dictionary to determine whether the user opened a Branch link. Below is an example assuming that the links correspond to pictures. Below are some examples from iOS and Android where we're using the <code>pictureId</code> key to route, but you can see more code snippets for <a href="#dialog-code?ios=initialize-branch&amp;android=initialize-branch&amp;adobe=initialize-branch&amp;cordova=initialize-branch&amp;mparticleAndroid=initialize-branch&amp;mparticleIos=initialize-branch&amp;titanium=initialize-branch&amp;reactNative=initialize-branch&amp;unity=initialize-branch&amp;xamarin=initialize-branch">the other platforms here</a>.</p>
<ul>
<li>
<p><em>iOS - Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span> <span class="p">{</span>

  <span class="c1">// initialize the session, setup a deep link handler</span>
  <span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="nl">initSessionWithLaunchOptions</span><span class="p">:</span><span class="n">launchOptions</span>
                          <span class="nl">andRegisterDeepLinkHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">params</span><span class="p">,</span> <span class="bp">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// start setting up the view controller hierarchy</span>
    <span class="bp">UINavigationController</span> <span class="o">*</span><span class="n">navC</span> <span class="o">=</span> <span class="p">(</span><span class="bp">UINavigationController</span> <span class="o">*</span><span class="p">)</span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span><span class="p">;</span>
    <span class="bp">UIStoryboard</span> <span class="o">*</span><span class="n">storyboard</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIStoryboard</span> <span class="nl">storyboardWithName</span><span class="p">:</span><span class="s">@&quot;Main&quot;</span> <span class="nl">bundle</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>
    <span class="bp">UIViewController</span> <span class="o">*</span><span class="n">nextVC</span><span class="p">;</span>

    <span class="c1">// If the key &#39;pictureId&#39; is present in the deep link dictionary</span>
    <span class="c1">// then load the picture screen with the appropriate picture</span>
    <span class="bp">NSString</span> <span class="o">*</span><span class="n">pictureId</span> <span class="o">=</span> <span class="p">[</span><span class="n">params</span> <span class="nl">objectForKey</span><span class="p">:</span><span class="s">@&quot;pictureId&quot;</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">pictureId</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">nextVC</span> <span class="o">=</span> <span class="p">[</span><span class="n">storyboard</span> <span class="nl">instantiateViewControllerWithIdentifier</span><span class="p">:</span><span class="s">@&quot;PicVC&quot;</span><span class="p">];</span>
      <span class="p">[</span><span class="n">nextVC</span> <span class="nl">setNextPictureId</span><span class="p">:</span><span class="n">pictureId</span><span class="p">];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">nextVC</span> <span class="o">=</span> <span class="p">[</span><span class="n">storyboard</span> <span class="nl">instantiateViewControllerWithIdentifier</span><span class="p">:</span><span class="s">@&quot;MainVC&quot;</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="c1">// navigate!</span>
    <span class="p">[</span><span class="n">navC</span> <span class="nl">setViewControllers</span><span class="p">:</span><span class="l">@[</span><span class="n">nextVC</span><span class="l">]</span> <span class="nl">animated</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
  <span class="p">}];</span>

  <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><em>iOS - Swift</em></p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="kc">_</span> <span class="n">application</span><span class="p">:</span> <span class="bp">UIApplication</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="n">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="n">UIApplicationLaunchOptionsKey</span><span class="p">:</span> <span class="nb">Any</span><span class="p">]?)</span> <span class="p">-&gt;</span> <span class="nb">Bool</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nv">branch</span><span class="p">:</span> <span class="n">Branch</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">()</span>
        <span class="n">branch</span><span class="p">.</span><span class="n">initSession</span><span class="p">(</span><span class="n">launchOptions</span><span class="p">:</span> <span class="n">launchOptions</span><span class="p">,</span> <span class="n">andRegisterDeepLinkHandler</span><span class="p">:</span> <span class="p">{</span><span class="n">params</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
        <span class="c1">// If the key &#39;pictureId&#39; is present in the deep link dictionary</span>
        <span class="k">if</span> <span class="n">error</span> <span class="p">==</span> <span class="kc">nil</span> <span class="o">&amp;&amp;</span> <span class="n">params</span><span class="p">[</span><span class="s">&quot;+clicked_branch_link&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="o">&amp;&amp;</span> <span class="n">params</span><span class="p">[</span><span class="s">&quot;pictureId&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
            <span class="bp">print</span><span class="p">(</span><span class="s">&quot;clicked picture link!&quot;</span><span class="p">)</span>
            <span class="c1">// load the view to show the picture</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// load your normal view</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><em>Android</em></p>
<div class="codehilite"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onStart</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">onStart</span><span class="o">();</span>

    <span class="n">Branch</span> <span class="n">branch</span> <span class="o">=</span> <span class="n">Branch</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>

    <span class="n">branch</span><span class="o">.</span><span class="na">initSession</span><span class="o">(</span><span class="k">new</span> <span class="n">BranchReferralInitListener</span><span class="o">(){</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitFinished</span><span class="o">(</span><span class="n">JSONObject</span> <span class="n">referringParams</span><span class="o">,</span> <span class="n">Branch</span><span class="o">.</span><span class="na">BranchError</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">error</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// params are the deep linked params associated with the link that the user clicked before showing up</span>
                <span class="c1">// params will be empty if no data found</span>
                <span class="n">String</span> <span class="n">pictureID</span> <span class="o">=</span> <span class="n">referringParams</span><span class="o">.</span><span class="na">optString</span><span class="o">(</span><span class="s">&quot;picture_id&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;</span><span class="o">);</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">pictureID</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;&quot;</span><span class="o">))</span> <span class="o">{</span>
                    <span class="n">startActivity</span><span class="o">(</span><span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">HomeActivity</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
                <span class="o">}</span>
                <span class="k">else</span> <span class="o">{</span>
                    <span class="n">Intent</span> <span class="n">i</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">ViewerActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                    <span class="n">i</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&quot;picture_id&quot;</span><span class="o">,</span> <span class="n">pictureID</span><span class="o">);</span>
                    <span class="n">startActivity</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&quot;MyApp&quot;</span><span class="o">,</span> <span class="n">error</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">},</span> <span class="k">this</span><span class="o">.</span><span class="na">getIntent</span><span class="o">().</span><span class="na">getData</span><span class="o">(),</span> <span class="k">this</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>

</li>
</ul>
<h3 id="branch-added-parameters">Branch-added parameters<a class="headerlink" href="#branch-added-parameters" title="Permanent link">&para;</a></h3>
<p>In addition to any custom key/value pairs specified in the link data dictionary, Branch also returns some other useful parameters every time a session is initialized. These parameters will be returned every time <code>initSession</code> is called, even if the user has not clicked on a Branch link. Here is a list, and a description of what each represents.</p>
<ul>
<li><code>~</code> denotes analytics</li>
<li><code>+</code> denotes information added by Branch</li>
<li>(for the curious, <code>$</code> denotes reserved keywords used for controlling how the Branch service behaves. Read more about control parameters on the <a href="../{{base.url}}/getting-started/configuring-links">Configuring Links page</a>)</li>
</ul>
<table>
<thead>
<tr>
<th align="right"><strong>Parameter</strong></th>
<th><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="right"><strong>+is_first_session</strong></td>
<td>Denotes whether this is the first session (install) or any other session (re-install, open)</td>
</tr>
<tr>
<td align="right"><strong>+clicked_branch_link</strong></td>
<td>Denotes whether or not the user clicked a Branch link that triggered this session</td>
</tr>
<tr>
<td align="right"><strong>+match_guaranteed</strong></td>
<td>True or false as to whether the match was made with 100% accuracy</td>
</tr>
<tr>
<td align="right"><strong>+referrer</strong></td>
<td>The referrer for the link click, if a link was clicked</td>
</tr>
<tr>
<td align="right"><strong>+click_timestamp</strong></td>
<td>Epoch timestamp of when the click occurred</td>
</tr>
<tr>
<td align="right"><strong>+url</strong></td>
<td>The full URL of the link that drove the install/open, if present (e.g. yourapp.app.link/abcde12345)</td>
</tr>
<tr>
<td align="right"><strong>+phone_number</strong></td>
<td>The phone number of the user, if the user texted himself/herself the app</td>
</tr>
<tr>
<td align="right"><strong>~channel</strong></td>
<td>The channel on which the link was shared, specified at link creation time</td>
</tr>
<tr>
<td align="right"><strong>~feature</strong></td>
<td>The feature, such as <code>invite</code> or <code>share</code>, specified at link creation time</td>
</tr>
<tr>
<td align="right"><strong>~tags</strong></td>
<td>Any tags, specified at link creation time</td>
</tr>
<tr>
<td align="right"><strong>~campaign</strong></td>
<td>The campaign the link is associated with, specified at link creation time</td>
</tr>
<tr>
<td align="right"><strong>~stage</strong></td>
<td>The stage, specified at link creation time</td>
</tr>
<tr>
<td align="right"><strong>~creation_source</strong></td>
<td>Where the link was created ('API', 'Dashboard', 'SDK', 'iOS SDK', 'Android SDK', or 'Web SDK')</td>
</tr>
<tr>
<td align="right"><strong>~id</strong></td>
<td>Automatically generated 18 digit ID number for the link that drove the install/open, if present (0 for dynamic and 3P links)</td>
</tr>
</tbody>
</table>
<h3 id="access-deep-link-parameters-later-on">Access deep link parameters later on<a class="headerlink" href="#access-deep-link-parameters-later-on" title="Permanent link">&para;</a></h3>
<p>You can retrieve the deep link data at any time from the Branch singleton by calling one of the below methods. This would be the route to use if you wanted to deep link the user after prompting them to log in or something. You can see the <a href="#dialog-code?ios=read-deep-link&amp;android=read-deep-link&amp;adobe=read-deep-link&amp;cordova=read-deep-link&amp;mparticleAndroid=read-deep-link&amp;mparticleIos=read-deep-link&amp;titanium=read-deep-link&amp;reactNative=read-deep-link&amp;unity=read-deep-link&amp;xamarin=read-deep-link">code snippets for other platforms here</a>.</p>
<h4 id="get-latest-session-referring-params">Get latest session referring params<a class="headerlink" href="#get-latest-session-referring-params" title="Permanent link">&para;</a></h4>
<p>This returns the latest set of deep link data from the most recent link that was clicked. If you minimize the app and reopen it, the session will be cleared and so will this data.</p>
<ul>
<li>
<p><em>iOS - Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">params</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="n">getLatestReferringParams</span><span class="p">];</span>
</pre></div>

</li>
<li>
<p><em>iOS - Swift</em></p>
<div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">sessionParams</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">getLatestReferringParams</span><span class="p">()</span>
</pre></div>

</li>
<li>
<p><em>Android</em></p>
<div class="codehilite"><pre><span></span><span class="n">JSONObject</span> <span class="n">sessionParams</span> <span class="o">=</span> <span class="n">Branch</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getLatestReferringParams</span><span class="o">();</span>
</pre></div>

</li>
</ul>
<h4 id="get-first-session-referring-params">Get first session referring params<a class="headerlink" href="#get-first-session-referring-params" title="Permanent link">&para;</a></h4>
<p>This returns the first set of deep link data that ever referred the user. Once it's been set for a given user, it can never be updated. This is useful for referral programs.</p>
<ul>
<li>
<p><em>iOS - Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">params</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Branch</span> <span class="n">getInstance</span><span class="p">]</span> <span class="n">getFirstReferringParams</span><span class="p">];</span>
</pre></div>

</li>
<li>
<p><em>iOS - Swift</em></p>
<div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">firstParams</span> <span class="p">=</span> <span class="n">Branch</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">getFirstReferringParams</span><span class="p">()</span>
</pre></div>

</li>
<li>
<p><em>Android</em></p>
<div class="codehilite"><pre><span></span><span class="n">JSONObject</span> <span class="n">installParams</span> <span class="o">=</span> <span class="n">Branch</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getFirstReferringParams</span><span class="o">();</span>
</pre></div>

</li>
</ul>
<h2 id="option-2-let-branch-use-your-existing-deep-link-routing">Option 2: Let Branch use your existing deep link routing<a class="headerlink" href="#option-2-let-branch-use-your-existing-deep-link-routing" title="Permanent link">&para;</a></h2>
<p>If your app already supports deep linking using URI paths, you can populate the <code>$deeplink_path</code>, <code>$ios_deeplink_path</code> or <code>$android_deeplink_path</code> link parameters with the URI path of the content to be displayed within the app. When the Branch SDK receives a link containing one of these parameters it will automatically load the specified URI path.</p>
<div class="admonition warning">
<p class="admonition-title">Incomplete support on iOS</p>
<p><a href="../../../pages/deep-linking/universal-links/">Universal Links</a> and <a href="../../../pages/organic-search/spotlight/">Spotlight</a> do not support deep linking via URI paths. If you use <code>$deeplink_path</code> or <code>$ios_deeplink_path</code>, you will need to implement some custom logic. <a href="#how-to-handle-uri-paths-with-universal-links">Click here for more information</a>.</p>
</div>
<h3 id="how-to-insert-custom-deep-link-routes-into-a-branch-link">How to insert custom deep link routes into a Branch link<a class="headerlink" href="#how-to-insert-custom-deep-link-routes-into-a-branch-link" title="Permanent link">&para;</a></h3>
<p>All of the examples below create links that will cause Branch to display <code>myapp://content/1234</code> after launch. Please do not add the URI scheme on the <code>$deeplink_path</code> parameters; we automatically append the scheme specified in the Link Settings of dashboard.</p>
<div class="admonition example">
<p class="admonition-title">When creating links dynamically</p>
<p>If you're creating a link by appending query parameters, just append the control parameters to the URL. Please make sure to URL encode everything, lest the link will break.</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;https://[branchsubdomain]?%24deeplink_path=content%2F1234&quot;</span>
</pre></div>

</div>
<div class="admonition example">
<p class="admonition-title">When using a mobile SDK</p>
<ul>
<li>
<p><em>iOS - Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="n">BranchLinkProperties</span> <span class="o">*</span><span class="n">linkProperties</span> <span class="o">=</span> <span class="p">[[</span><span class="n">BranchLinkProperties</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">feature</span> <span class="o">=</span> <span class="s">@&quot;sharing&quot;</span><span class="p">;</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="s">@&quot;facebook&quot;</span><span class="p">;</span>
<span class="p">[</span><span class="n">linkProperties</span> <span class="nl">addControlParam</span><span class="p">:</span><span class="s">@&quot;$deeplink_path&quot;</span> <span class="nl">withValue</span><span class="p">:</span><span class="s">@&quot;content/1234&quot;</span><span class="p">];</span>
</pre></div>

</li>
<li>
<p><em>iOS - Swift</em></p>
<div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">linkProperties</span><span class="p">:</span> <span class="n">BranchLinkProperties</span> <span class="p">=</span> <span class="n">BranchLinkProperties</span><span class="p">()</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">feature</span> <span class="p">=</span> <span class="s">&quot;sharing&quot;</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">channel</span> <span class="p">=</span> <span class="s">&quot;facebook&quot;</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">addControlParam</span><span class="p">(</span><span class="s">&quot;$deeplink_path&quot;</span><span class="p">,</span> <span class="n">withValue</span><span class="p">:</span> <span class="s">&quot;content/1234&quot;</span><span class="p">)</span>
</pre></div>

</li>
<li>
<p><em>Android</em></p>
<div class="codehilite"><pre><span></span><span class="n">LinkProperties</span> <span class="n">linkProperties</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkProperties</span><span class="o">()</span>
               <span class="o">.</span><span class="na">setChannel</span><span class="o">(</span><span class="s">&quot;facebook&quot;</span><span class="o">)</span>
               <span class="o">.</span><span class="na">setFeature</span><span class="o">(</span><span class="s">&quot;sharing&quot;</span><span class="o">)</span>
               <span class="o">.</span><span class="na">addControlParameter</span><span class="o">(</span><span class="s">&quot;$deeplink_path&quot;</span><span class="o">,</span> <span class="s">&quot;content/1234&quot;</span><span class="o">);</span>
</pre></div>

</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">When creating Quick Links on the Branch dashboard</p>
<p>You can specify the control parameters for individual Quick Links by inserting the keys and values into the <em>Deep Link Data (Advanced)</em> section.</p>
<p><img alt="image" src="../../../img/pages/deep-linking/routing/deep-link_path.png" /></p>
</div>
<h3 id="how-to-handle-uri-paths-with-universal-links-or-app-links">How to handle URI paths with Universal Links or App Links<a class="headerlink" href="#how-to-handle-uri-paths-with-universal-links-or-app-links" title="Permanent link">&para;</a></h3>
<p>Because Universal Links, Spotlight and Android App Links do not use URI schemes for deep link routing. If you populate <code>$deeplink_path</code>, <code>$ios_deeplink_path</code> or <code>$android_deeplink_path</code> with a URI path, you will need to a bit of additional work to ensure that Branch links route according to your original schema.</p>
<ol>
<li>Call initSession as described in <a href="#dialog-code?ios=initialize-branch&amp;android=initialize-branch&amp;adobe=initialize-branch&amp;cordova=initialize-branch&amp;mparticleAndroid=initialize-branch&amp;mparticleIos=initialize-branch&amp;titanium=initialize-branch&amp;reactNative=initialize-branch&amp;unity=initialize-branch&amp;xamarin=initialize-branch">the app configuration steps</a></li>
<li>In the callback function, add some custom code to read the appropriate <code>$deeplink_path</code> parameter in the <code>params</code> </li>
<li>Use this value to call your existing routing logic to route users to the correct place in your app</li>
</ol>
<h2 id="option-3-use-branchs-easy-config-deep-link-routing">Option 3: Use Branch's easy config deep link routing<a class="headerlink" href="#option-3-use-branchs-easy-config-deep-link-routing" title="Permanent link">&para;</a></h2>
<h3 id="auto-routing-in-ios">Auto-routing in iOS<a class="headerlink" href="#auto-routing-in-ios" title="Permanent link">&para;</a></h3>
<h4 id="configure-view-controller-to-accept-deep-links">Configure View Controller to accept deep links<a class="headerlink" href="#configure-view-controller-to-accept-deep-links" title="Permanent link">&para;</a></h4>
<p>Open the view controller that you want to appear when a user clicks a link. For example, this could be a view to show a product. First, import the Branch framework:</p>
<ul>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="cp">#import &quot;Branch.h&quot;</span>
</pre></div>

</li>
<li>
<p><em>Swift</em></p>
<div class="codehilite"><pre><span></span><span class="kd">import</span> <span class="nc">Branch</span>
</pre></div>

</li>
</ul>
<p>Register your view controller for the delegate <code>BranchDeepLinkingController</code>:</p>
<ul>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="k">@interface</span> <span class="nc">ExampleDeepLinkingController</span> : <span class="bp">UIViewController</span> <span class="o">&lt;</span><span class="n">BranchDeepLinkingController</span><span class="o">&gt;</span>
</pre></div>

</li>
<li>
<p><em>Swift</em></p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">ExampleDeepLinkingController</span><span class="p">:</span> <span class="bp">UIViewController</span><span class="p">,</span> <span class="n">BranchDeepLinkingController</span> <span class="p">{</span>
</pre></div>

</li>
</ul>
<p>Receive the delegate method that will be called when the view controller is loaded from a link click:</p>
<ul>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="k">@synthesize</span> <span class="n">deepLinkingCompletionDelegate</span><span class="p">;</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">configureControlWithData:</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">data</span> <span class="p">{</span>
    <span class="bp">NSString</span> <span class="o">*</span><span class="n">pictureUrl</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">@&quot;product_picture&quot;</span><span class="p">];</span>

    <span class="c1">// show the picture</span>
    <span class="n">dispatch_async</span><span class="p">(</span><span class="n">dispatch_get_global_queue</span><span class="p">(</span><span class="n">DISPATCH_QUEUE_PRIORITY_DEFAULT</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">^</span><span class="p">{</span>
        <span class="bp">NSData</span> <span class="o">*</span><span class="n">imageData</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSData</span> <span class="nl">dataWithContentsOfURL</span><span class="p">:[</span><span class="bp">NSURL</span> <span class="nl">URLWithString</span><span class="p">:</span><span class="n">pictureUrl</span><span class="p">]];</span>
        <span class="bp">UIImage</span> <span class="o">*</span><span class="n">image</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIImage</span> <span class="nl">imageWithData</span><span class="p">:</span><span class="n">imageData</span><span class="p">];</span>
        <span class="n">dispatch_async</span><span class="p">(</span><span class="n">dispatch_get_main_queue</span><span class="p">(),</span> <span class="o">^</span><span class="p">{</span>
            <span class="nb">self</span><span class="p">.</span><span class="n">productImageView</span><span class="p">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">}</span>
</pre></div>

</li>
<li>
<p><em>Swift</em></p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nf">configureControl</span><span class="p">(</span><span class="n">withData</span> <span class="n">params</span><span class="p">:</span> <span class="p">[</span><span class="n">AnyHashable</span><span class="p">:</span> <span class="nb">Any</span><span class="p">]</span><span class="o">!</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nv">dict</span> <span class="p">=</span> <span class="n">params</span> <span class="k">as</span> <span class="nb">Dictionary</span>
    <span class="k">if</span> <span class="n">dict</span><span class="p">[</span><span class="s">&quot;product_picture&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
       <span class="c1">// show the picture</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">What is a link data key?</p>
<p>The example key <code>product_picture</code> is a parameter from the <a href="../../../pages/links/integrate/#custom-data">data dictionary</a> of the link that was clicked, and would have been defined when the link <a href="#dialog-code?ios=create-deep-link&amp;android=create-deep-link&amp;adobe=create-deep-link&amp;cordova=create-deep-link&amp;mparticleAndroid=create-deep-link&amp;mparticleIos=create-deep-link&amp;titanium=create-deep-link&amp;reactNative=create-deep-link&amp;unity=create-deep-link&amp;xamarin=create-deep-link">was created</a>.</p>
</div>
<ul>
<li><em>Objective C</em></li>
</ul>
<div class="codehilite"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">IBAction</span><span class="p">)</span><span class="nf">closePressed</span> <span class="p">{</span>
    <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">deepLinkingCompletionDelegate</span> <span class="n">deepLinkingControllerCompleted</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>

<ul>
<li><em>Swift</em></li>
</ul>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nv">deepLinkingCompletionDelegate</span><span class="p">:</span> <span class="n">BranchDeepLinkingControllerCompletionDelegate</span><span class="p">?</span>
<span class="kd">func</span> <span class="nf">closePressed</span><span class="p">()</span> <span class="p">{</span>
    <span class="kc">self</span><span class="p">.</span><span class="n">deepLinkingCompletionDelegate</span><span class="p">!.</span><span class="n">deepLinkingControllerCompleted</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>

<h4 id="register-view-controller-for-deep-link-routing">Register View Controller for deep link routing<a class="headerlink" href="#register-view-controller-for-deep-link-routing" title="Permanent link">&para;</a></h4>
<p>Lastly, you need to tell Branch about the view controller you just configured, and which key it is using from the link's data dictionary.</p>
<ul>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="p">[</span><span class="n">branch</span> <span class="nl">initSessionWithLaunchOptions</span><span class="p">:</span><span class="n">launchOptions</span> <span class="nl">andRegisterDeepLinkHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">params</span><span class="p">,</span> <span class="bp">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span> <span class="o">&amp;&amp;</span> <span class="n">params</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// params are the deep linked params associated with the link that the user clicked -&gt; was re-directed to this app</span>
        <span class="c1">// params will be empty if no data found</span>
        <span class="c1">// ... insert custom logic here ...</span>
        <span class="n">print</span><span class="p">(</span><span class="s">@&quot;params: %@&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">.</span><span class="n">description</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}];</span>
</pre></div>

</li>
<li>
<p><em>Swift</em></p>
<div class="codehilite"><pre><span></span><span class="n">branch</span><span class="p">.</span><span class="n">initSession</span><span class="p">(</span><span class="n">launchOptions</span><span class="p">:</span> <span class="n">launchOptions</span><span class="p">,</span> <span class="n">deepLinkHandler</span><span class="p">:</span> <span class="p">{</span> <span class="n">params</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
    <span class="k">if</span> <span class="n">error</span> <span class="p">==</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="c1">// params are the deep linked params associated with the link that the user clicked -&gt; was re-directed to this app</span>
        <span class="c1">// params will be empty if no data found</span>
        <span class="c1">// ... insert custom logic here ...</span>
        <span class="bp">print</span><span class="p">(</span><span class="s">&quot;params: %@&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">.</span><span class="n">description</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">})</span>
</pre></div>

</li>
</ul>
<p>Remove it, and insert this snippet in the same place:</p>
<ul>
<li>
<p><em>Objective C</em></p>
<div class="codehilite"><pre><span></span><span class="n">ExampleDeepLinkingController</span> <span class="o">*</span><span class="n">controller</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">UIStoryboard</span> <span class="nl">storyboardWithName</span><span class="p">:</span><span class="s">@&quot;Main&quot;</span> <span class="nl">bundle</span><span class="p">:[</span><span class="bp">NSBundle</span> <span class="n">mainBundle</span><span class="p">]]</span> <span class="nl">instantiateViewControllerWithIdentifier</span><span class="p">:</span><span class="s">@&quot;DeepLinkingController&quot;</span><span class="p">];</span>

<span class="p">[</span><span class="n">branch</span> <span class="nl">registerDeepLinkController</span><span class="p">:</span><span class="n">controller</span> <span class="nl">forKey</span><span class="p">:</span><span class="s">@&quot;product_picture&quot;</span> <span class="nl">withPresentation</span><span class="p">:</span><span class="n">BNCViewControllerOptionShow</span><span class="p">];</span>
<span class="p">[</span><span class="n">branch</span> <span class="nl">initSessionWithLaunchOptions</span><span class="p">:</span><span class="n">launchOptions</span> <span class="nl">automaticallyDisplayDeepLinkController</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
</pre></div>

</li>
<li>
<p><em>Swift</em></p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nv">controller</span> <span class="p">=</span> <span class="bp">UIStoryboard</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="s">&quot;Main&quot;</span><span class="p">,</span> <span class="bp">NSBundle</span><span class="p">.</span><span class="n">mainBundle</span><span class="p">()).</span><span class="n">instantiateViewControllerWithIdentifier</span><span class="p">(</span><span class="s">&quot;DeepLinkingController&quot;</span><span class="p">)</span>

<span class="n">branch</span><span class="p">.</span><span class="n">registerDeepLinkController</span><span class="p">(</span><span class="n">controller</span><span class="p">,</span> <span class="n">forKey</span><span class="p">:</span> <span class="s">&quot;product_picture&quot;</span><span class="p">,</span> <span class="n">withPresentation</span><span class="p">:</span> <span class="p">.</span><span class="n">optionShow</span><span class="p">)</span>
<span class="n">branch</span><span class="p">.</span><span class="n">initSession</span><span class="p">(</span><span class="n">launchOptions</span><span class="p">:</span> <span class="n">launchOptions</span><span class="p">,</span> <span class="n">automaticallyDisplayDeepLinkController</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
</pre></div>

</li>
</ul>
<p>Now whenever your app launches from a Branch link that has the <code>product_picture</code> key set in its data dictionary, the <code>ExampleDeepLinkingController</code> view controller will be displayed!</p>
<table>
<thead>
<tr>
<th align="right"><strong>Option</strong></th>
<th><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="right"><strong>BNCViewControllerOptionShow</strong></td>
<td>This option pushes view controller onto the navigation stack in a similar way as the showViewController</td>
</tr>
<tr>
<td align="right"><strong>BNCViewControllerOptionPush</strong></td>
<td>This option pushes view controller onto the navigation stack in a similar way as the pushViewController</td>
</tr>
<tr>
<td align="right"><strong>BNCViewControllerOptionPresent</strong></td>
<td>This option presents view controller onto the root view controller of window in a similar way as the presentViewController</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>BNCViewControllerOptionShow</strong> or <strong>BNCViewControllerOptionPush</strong> option would only push a view controller if the root view controller of window is of type <strong>UINavigationViewController</strong>. Or else, the view controller would be presented by default.</p>
</div>
<h3 id="auto-routing-in-android">Auto-routing in Android<a class="headerlink" href="#auto-routing-in-android" title="Permanent link">&para;</a></h3>
<h4 id="configure-activity-to-accept-deep-links">Configure Activity to accept deep links<a class="headerlink" href="#configure-activity-to-accept-deep-links" title="Permanent link">&para;</a></h4>
<p>Open the Activity that you want to appear when a user clicks a link. For example, this could be an Activity to show a product. Insert the following code snippet to display your content when the Activity is loaded from a link click:</p>
<div class="codehilite"><pre><span></span><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onResume</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">onResume</span><span class="o">();</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">Branch</span><span class="o">.</span><span class="na">isAutoDeepLinkLaunch</span><span class="o">(</span><span class="k">this</span><span class="o">))</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">autoDeeplinkedValue</span> <span class="o">=</span> <span class="n">Branch</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getLatestReferringParams</span><span class="o">().</span><span class="na">getString</span><span class="o">(</span><span class="s">&quot;product_picture&quot;</span><span class="o">);</span>
            <span class="n">launch_mode_txt</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;Launched by Branch on auto deep linking!&quot;</span>
                    <span class="o">+</span> <span class="s">&quot;\n\n&quot;</span> <span class="o">+</span> <span class="n">autoDeeplinkedValue</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">JSONException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">launch_mode_txt</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;Launched by normal application flow&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<div class="admonition tip">
<p class="admonition-title">What is a link data key?</p>
<p>The example key <code>product_picture</code> is a parameter from the <a href="../../../pages/links/integrate/#custom-data">data dictionary</a> of the link that was clicked, and would have been defined when the link <a href="#dialog-code?ios=create-deep-link&amp;android=create-deep-link&amp;adobe=create-deep-link&amp;cordova=create-deep-link&amp;mparticleAndroid=create-deep-link&amp;mparticleIos=create-deep-link&amp;titanium=create-deep-link&amp;reactNative=create-deep-link&amp;unity=create-deep-link&amp;xamarin=create-deep-link">was created</a>.</p>
</div>
<h4 id="register-activity-for-deep-link-routing">Register Activity for deep link routing<a class="headerlink" href="#register-activity-for-deep-link-routing" title="Permanent link">&para;</a></h4>
<p>Lastly, you need to tell Branch about the Activity you just configured, and which key it is using from the link's data dictionary. In your Manifest file, locate the definition for the Activity above and add this meta-data tag:</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;meta-data</span> <span class="na">android:name=</span><span class="s">&quot;io.branch.sdk.auto_link_keys&quot;</span> <span class="na">android:value=</span><span class="s">&quot;product_picture&quot;</span> <span class="nt">/&gt;</span>
</pre></div>

<p>Now whenever your app launches from a Branch link that has the <code>product_picture</code> key set in its data dictionary, this Activity will be displayed!</p>
                
                  
                
              
              
                
                  


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = "https://docs.branch.io/pages/deep-linking/routing/";
      this.page.identifier =
        "/pages/deep-linking/routing/";
    };
    (function() {
      var d = document, s = d.createElement("script");
      s.src = "//branch-docs.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>

                
              
            </article>
          </div>
        </div>
      </main>
      
        
        
      
      
        <div class="modals">
          <div id="modal-search" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content" id="algolia-search-container">
              <i class="material-icons modal-close right">close</i>
              <h2>Search</h2>
              <input type="text" placeholder="search docs..." id="algolia-doc-search" autofocus>
            </div>
          </div>
          <div id="modal-unhelpful" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Unhelpful?</h2>
              <p>How can we improve or assist you?</p>
              <a href="#" class="improve-doc" title="Improve This Doc">Improve this doc</a>
              <a href="#" class="contact-support" title="Contact support">Contact support</a>
            </div>
          </div>
          <div id="modal-choose-app" class="modal dialog">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Choose your app</h2>
              <button type="button">iOS</button>
              <button type="button">Android</button>
              <button type="button">Cordova Ionic PhoneGap</button>
              <button type="button">React Native</button>
            </div>
          </div>
          <div id="modal-helpful" class="modal notification">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Thank you</h2>
            </div>
          </div>
          <div id="modal-image" class="modal dialog image">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Image</h2>
              <a id="modal-image-link" href="#">
                <img id="modal-image-img">
              </a>
            </div>
          </div>
          <div id="modal-code" class="modal dialog code">
            <div class="modal-background"></div>
            <div class="modal-content">
              <i class="material-icons modal-close right">close</i>
              <h2>Select your platform</h2>
              <div class="flex">
                <button id="modal-code-ios">iOS</button>
                <button id="modal-code-android">Android</button>
              </div>
              <div class="flex">
                <button id="modal-code-cordova">Cordova PhoneGap Ionic</button>
                <button id="modal-code-react">React Native</button>
              </div>
              <div class="flex">
                <button id="modal-code-mparticle-android">mParticle Android</button>
                <button id="modal-code-mparticle-ios">mParticle iOS</button>
              </div>
              <div class="flex">
                <button id="modal-code-titanium">Titanium</button>
                <button id="modal-code-unity">Unity</button>
              </div>
              <div class="flex">
                <button id="modal-code-xamarin">Xamarin</button>
                <button id="modal-code-adobe" class="vanish">Adobe</button>
              </div>
            </div>
          </div>
        </div>
      
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="https://branch.io">Branch</a>
          </div>
        
        All rights reserved
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://branch.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/branchmetrics/docs" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/branchmetrics" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.facebook.com/branchmetrics" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://www.linkedin.com/company-beta/3813083" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
      <script>docsearch({apiKey:"887017d17a2c1e9490ad2c44caa7e817",indexName:"branchmetrics",inputSelector:"#algolia-doc-search",debug:"True",algoliaOptions:{hitsPerPage:"15"}})</script>
    
    
      <script src="../../../assets/javascripts/application.2ea4dc16.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:"../../.."}})</script>
      
        <script src="../../../js/router.js"></script>
      
        <script src="../../../js/events.js"></script>
      
        <script src="../../../js/modals.js"></script>
      
        <script src="../../../js/images.js"></script>
      
        <script src="../../../js/buttons.js"></script>
      
        <script src="../../../js/progress.js"></script>
      
        <script src="../../../js/tabs.js"></script>
      
        <script src="../../../js/languages.js"></script>
      
        <script src="../../../js/utils.js"></script>
      
        <script src="../../../js/main.js"></script>
      
        <script src="../../../search/require.js"></script>
      
        <script src="../../../search/search.js"></script>
      
    
    
      
    
  </body>
</html>